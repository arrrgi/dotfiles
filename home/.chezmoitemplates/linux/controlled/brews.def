{{/*
SPDX-FileCopyrightText: (c) 2025 Rowan Gillson <devops@the.bald.engineer>
SPDX-License-Identifier: MIT
*/}}

{{- $packages := splitList " " (includeTemplate "universal/brews.def" .) }}
{{- $taps := list
  "hashicorp/tap"
  "homebrew/bundle"
  "olets/tap"
-}}

{{/* insert Linux specific packages here */}}
{{- $linuxBrews := list
  "bpytop"
-}}

{{- if .target.wsl }}
{{- $linuxBrews = append $linuxBrews
  "gh"
  "mise"
-}}
{{- end }}

{{- $brews := concat $packages $linuxBrews -}}

{{ range ($taps | sortAlpha | uniq) -}}
tap "{{ . }}"
{{ end -}}
{{ range ($brews | sortAlpha | uniq) -}}
brew "{{ . }}"
{{ end -}}
